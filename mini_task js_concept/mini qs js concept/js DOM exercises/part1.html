<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM part 1</title>
</head>

<body>
    <h1>heading</h1>

    <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Harum quibusdam nobis ipsam, veniam animi rem excepturi
        eos aperiam hic exercitationem tempore amet quaerat, dolore deserunt cupiditate fugiat magni aliquid provident
        dolores aspernatur quasi illum tenetur corrupti. Libero veniam esse ut architecto asperiores placeat temporibus.
    </p>

    <p id="para2">
        Why didnâ€™t you call me yesterday?
        I was waiting the whole evening!
        Do you know how worried I was?
        Please donâ€™t do that again!
    </p>

    <script>
        // ---------------------------
        // 1. Make a variable for the first <p> to reuse it everywhere
        // ---------------------------
        let para = document.getElementsByTagName("p")[0];

        // ---------------------------
        // ex1: Highlight all words over eight chars long in the paragraph text
        // ---------------------------
        let dom = para.innerText.split(" ").map(w => {
            if (w.length > 8) {
                return "<span style='background: yellow'>" + w + "</span>";
            } else {
                return w;
            }
        });
        para.innerHTML = dom.join(" ");

        // ---------------------------
        // exer 02: Add a link back to the source of the text after the paragraph tag
        // ---------------------------
        let link = document.createElement("a");
        link.href = "https://forcecamsum.com";
        link.innerHTML = "Source";
        para.insertAdjacentElement("afterend", link);

        // ---------------------------
        // exer 03: Split each new sentence onto a separate line in the paragraph text
        // ---------------------------
        para.innerHTML = para.innerHTML.split(".").join(".<br>");

        // ---------------------------
        // exer 04: Count the number of words in the paragraph and display count after the heading
        // ---------------------------
        // (Assuming all words are separated by one singular whitespace)
        let totalWords = para.innerText.trim().split(/\s+/).length;
        console.log(totalWords);

        let span = document.createElement("span");
        span.innerHTML = " (total words : " + totalWords + ")";
        document.querySelector("h1").insertAdjacentElement("beforeend", span);

        // ---------------------------
        // exer 05: Replace all '?' with thinking face and '!' with astonished face in para2
        // ---------------------------
        let para2 = document.querySelector("#para2");
        para2.innerHTML = para2.innerHTML.replaceAll("?", "ðŸ¤”").replaceAll("!", "ðŸ˜²");
    </script>
</body>

</html>
