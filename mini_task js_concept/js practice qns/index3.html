<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>

    const posts = [
  { id: 1, user: "alice", content: "Learning JavaScript is fun! #js #coding", likes: 120, comments: ["Great post!", "Very helpful", "Loved it"],shares : 50 },
  { id: 2, user: "bob", content: "Just finished a React project #react #js", likes: 95, comments: ["Nice work!", "Awesome", "Congrats", "Well done"],shares : 90 },
  { id: 3, user: "alice", content: "Arrays and objects are powerful #js", likes: 150, comments: ["True!", "Absolutely"],shares : 10 },
  { id: 4, user: "charlie", content: "Functions make code reusable #coding", likes: 80, comments: [],shares : 100 }
];

    function analyzePosts(posts) {
      let topUser = { user: "", likes: 0 };
      let hashtagCount = {};
      let eng = {};
      let h_eng = 0;
      
      posts.forEach(post => {
        //engagement 
         
          eng[post.user] = post.likes + post.shares + post.comments.length
          post.engagement = eng[post.user];
        // Find top liked user
        if (post.likes > topUser.likes) {
          topUser = { user: post.user, likes: post.likes };
        }

        // Extract hashtags safely
        const hashtags = post.content.match(/#\w+/g) || [];

        hashtags.forEach(tag => {
          hashtagCount[tag] = (hashtagCount[tag] || 0) + 1;
        });
      });

      // Find most used hashtag
      let maxHashtag = "";
      let maxCount = 0;

      for (const tag in hashtagCount) {
        if (hashtagCount[tag] > maxCount) {
          maxCount = hashtagCount[tag];
          maxHashtag = tag;
        }
      }

      //post with high engagement

      for (const e in eng) { 
        if (eng[e]>h_eng) {
           h_eng = eng[e];
        }
        
      }


      return {
        topUser: topUser.user,
        mostUsedHashtag: maxHashtag,
        hashtagStats: hashtagCount,
        eng,h_eng
      };
    }

console.log(analyzePosts(posts));
console.log(posts)


  </script>
</body>

</html>